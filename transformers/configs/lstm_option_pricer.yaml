# LSTM Option Pricer configuration
# Model: LSTMOptionPricer (adapted from legacy LSTM.py)
model:
  name: lstm_option_pricer
  n_features: 8   # placeholder - train.py will overwrite with actual feature count
  hidden_size: 64
  num_layers: 6
  dropout_last: 0.0

data:
  path: ../data.csv
  train_months: 8
  val_months: 1
  test_month: 1
  test_year: 2023

  # Sequence parameters: adjust seq_len to match your model (legacy LSTM used 5)
  seq_len: 5
  label_len: 1
  pred_len: 1

  sequential: true
  group_by: ["STRIKE", "MONEYNESS_BUCKET"]
  min_chain_length: 5
  stratify_by_horizon: true

  feature_columns:
    - STRIKE
    - UNDERLYING_LAST
    - MTM
    - RFR
    - VOL_GG
    - DTE
    - DTE_NORMALIZED
    - MONEYNESS
  target_column: C_MID

training:
  batch_size: 64 #64
  learning_rate: 0.0002
  weight_decay: 0.0
  epochs: 1 #50
  early_stopping_patience: 10
  grad_clip: 1.0
  optimizer: adam
  scheduler:
    type: reduce_on_plateau
    factor: 0.5
    patience: 5
    min_lr: 1.0e-6

hardware:
  num_workers: 4
  pin_memory: true
  seed: 42

output:
  save_dir: ./results/lstm_option_pricer
  log_interval: 100
